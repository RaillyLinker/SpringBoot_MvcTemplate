[AWS 도메인 및 HTTPS 설정법]
- 서비스 목적으로 서버를 배포했다면 도메인을 붙이는 것이 좋습니다.
    또한, 서버의 목적이 주소가 브라우저에 직접 노출되지 않는 Rest API 서버이고 클라이언트 서버가 따로 존재한다고 하더라도,
    클라이언트가 HTTPS 를 사용한다면, Rest 서버 역시 HTTPS 를 사용하지 않으면 보안 문제로 인해 통신이 되지 않습니다.
    이때 HTTPS 를 서버에 적용하기 위해서라도 도메인 적용은 필요합니다.

- 아래 설명글에서 도메인 발급 절차는 생략하겠습니다.
    원하는 도메인 발급 서비스에서 비용을 지불하여 도메인을 발급받았다고 가정하겠습니다.

- HTTPS 설정방법
1. EC2 인스턴스가 생성된 상태로, 해당 서버의 80 포트로 서버가 실행되고 있는 상황에서 해당 서버에 HTTPS 를 설정하는 방법입니다. 도메인은 미리 준비된 것으로 생각하겠습니다.

2. Route 53 으로 갑니다.
    호스팅 영역 생성을 합니다.
    도메인은 이미 다른 서비스로 발급을 받았다고 가정하고, 도메인을 입력한 후, 기본 설정으로 생성합니다.
    그러면 유형 NS, SOA 의 레코드가 기본으로 준비됩니다.
    여기서 NS 의 값을 도메인 서비스에 설정해주면 됩니다.

3. Certificate Manager 에서 HTTPs 인증에 사용할 인증서를 만듭니다.
    요청 버튼을 누르고, 퍼블릭 인증서 요청 -> 앞서 발급받은 도메인 이름 입력 -> DNS 검증 -> RSA 2048 -> 요청 버튼
    위와 같은 절차로 인증서가 생성되면, 인증서 ID 를 눌러 상세 화면으로 이동한 후, Route 53 에서 레코드 생성 을 누릅니다.
    버튼은 조금 시간이 지나야 생성되므로 아직 버튼이 없다면 새로고침을 하면 됩니다.
    버튼을 누르고, 앞서 Route 53 에서 생성한 호스팅 영역을 선택하고 진행하면 OK

    Route 53 에 CNAME 유형의 레코드가 생성될 것입니다.

4. EC2 에서 로드 밸런싱 부분에서 대상그룹을 누르고 대상 그룹 생성을 누릅니다.
    대상그룹 이름은 임의로 입력하고, 대상 유형은 인스턴스, 포트는 서버 포트와 동일한 80 포트로 입력합니다.
    이것은 로드 밸런서의 리스너로 받아들인 요청을 전달할 대상을 선택하는 것입니다.
    생성되면 해당 그룹을 클릭하고 작업을 누른 후 인스턴스/IP 대상 등록 또는 등록 취소를 누르고, 전달 대상인 인스턴스를 누르고 추가를 한 후 저장하면 됩니다.

5. 로드밸런서 항목에 들어가고, 로드 밸런서 생성을 누릅니다.
    ALB 를 선택하고, 이름은 임의, 체계는 인터넷 경계, ip 주소 유형은 ipv4, 리스너는 80과 443 을 선택하여 http, https 에서 받은 요청에 대응하도록 합니다.
    가용영역은 대상이 되는 인스턴스를 포함해 2개 이상을 선택하고, 보안 설정 구성으로 넘어가서 https 에서 사용할, 이전에 만든 인증서 항목을 선택하고 로드밸런서를 만들고, 대상은 바로 전에 만든 대상을 선택합니다.

    이는 http, https 에서 온 모든 요청을 선택한 대상 인스턴스로 전달하겠다는 것입니다.

6. 이제 마지막으로 Route 43 에 A 유형 레코드를 만들어서 도메인과 연결될 경로, 즉 http, https 로 전파되는 로드밸런서를 연결해야합니다.
    레코드 생성을 누르고,
    단순 라우팅을 선택한 이후, 단순 레코드 정의 -> 레코드 이름은 공란 -> 값/트래픽 라우팅 대상으로 Network Load Balance 를 선택하고 앞서 만든 로드밸런서를 선택하고, 단순 레코드 정의를 눌러 생성하면 됩니다.

    잠시 기다리면 https 설정이 완료됩니다.