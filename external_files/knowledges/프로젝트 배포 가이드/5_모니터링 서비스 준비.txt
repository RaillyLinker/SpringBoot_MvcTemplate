[모니터링 서비스 준비]
- 서버 상태 확인을 위해 모니터링 툴은 필수라 생각합시다.
    여기서는 Spring Admin 을 사용할 것이고,
    본 프로젝트는 Spring Admin Client 가 적용된 상태입니다.

- 준비
    1. https://github.com/RaillyLinker/SpringBoot_SpringAdmin
        위 레포지토리에서 Spring Admin Server 프로젝트를 가져오거나,
        스스로 만들면 됩니다.

    2. application.yml 에 어드민 설정을 합시다.
        server.port : 포트 번호를 설정합니다. 여기서는 8081 포트로 설정했습니다.
        spring.boot.admin.notify : Spring Admin 의 경고 메시지를 받을 이메일 주소를 입력합니다.
        security : 본 서비스를 사용할 계정의 아이디와 비밀번호를 설정합니다.
        mail : notify 에서 사용할 SMTP 정보를 입력합니다.

    3. 준비된 Admin 프로젝트를 실행시켜 동작을 확인하고,
        이상이 없다면,
        Gradle 작업 중 Tasks - build - jar 을 실행시키면,
        build/libs 디렉토리 안에,

        springboot_spring_admin-0.0.1-SNAPSHOT-plain.jar

        이와 비슷한 이름의 jar 파일이 생성되어 있을 것입니다.
        이 파일이 준비되었다면 이식 준비가 된 것으로, 이것을 실행시킬 컴퓨터로 복사한 후 실행시켜주면 됩니다.

- AWS EC2 에 배포하기
    1. AWS EC2 에, 앞서 준비된 jar 파일을 배포하려면,
        AWS 콘솔에서 EC2 항목으로 이동한 후,
        petlogon-developer-tools
        라는 인스턴스를 만들어줄 것입니다.
        이 인스턴스에는 CI/CD 툴, 모니터링 툴 등의 개발자에게 필요한 서비스를 올려놓을 용도입니다.

        인스턴스 시작 버튼을 누르고,
        이름은 petlogon-developer-tools, 이미지는 ubuntu Ubuntu Server 24.04 LTS (HVM), SSD Volume Type,
        인스턴스 유형은 t2.small(이정도는 되어야 젠킨스를 돌릴 수 있음), 키페어는 가이드 3번 글에서 만든 키페어를 선택하고,
        보안그룹 생성, 스토리지 구성은 30GiB 범용 SSD gp3

        위와 같이 생성합니다.

    2. 네트워크 및 보안 탭에 탄력적 IP 를 누릅니다.
        탄력적 IP 주소 할당을 누르고,
        태그에 Name 키에 인스턴스 이름과 동일한 값으로 하여 탄력적 IP 를 할당합니다.
        생성된 IP 를 선택하고, 작업 - 탄력적 IP 주소 연결 을 누르고, 앞서 생성한 인스턴스와 연결해줍니다.
        이 작업을 해주는 이유는, EC2 인스턴스의 경우는 중단되었다가 다시 실행되면 그때마다 IP 가 새로 할당됩니다.
        이렇게 IP 가 변경되는 것을 막기 위하여 탄력적 IP 로 미리 IP 를 할당받았다가,
        인스턴스에 연결하는 방식으로 IP 변동을 막는 것입니다.
        즉, 탄력적 IP 의 IP 주소가 앞으로 해당 인스턴스의 IP 가 되는 것입니다.
        주의할 점으로는, 탄력적 IP 는 생성할 수 있는 개수가 한정되어 있습니다.
        한정 수량을 넘어가면 검색해서 AWS 에 요청하는 방법을 찾아보면 되고,
        탄력적 IP 는 만약 현재 실행중인 인스턴스에 할당되지 않은 상태로 존재한다면,
        그 자체로 유지비용의 요금이 발생합니다.

    3. 접속 보안 설정
        본 인스턴스는 말 그대로 개발자만 접속이 가능해야 하는 서버로,
        SSH 포트인 22 번 포트와, 각 개발자 툴 서비스 포트를 개발자 위치에만 공개해 두어야 합니다.

        보안 그룹 - 인바운드 규칙 - 인바운드 규칙 편집

        으로 이동하고,

        앞서 가이드 4번 글에서 했던대로, 허용할 포트와 ip 를 설정할 때,
        SSH 의 22 번 포트와,
        어드민 서버의 8081 포트를 현재 내 ip 에만 설정하고,
        추후에 접속 위치가 바뀔 때마다 수정하도록 합시다.




    3. OpenSSH 접속 및 기본 설정
        커맨드창을 열고,
        >> chmod 400 xxx.pem
        >> ssh -i "xxx.pem" ubuntu@3.x.x.180
        위와 같이 명령어를 입력합니다.

        xxx.pem 은 키페어 파일의 이름이로,
        그 키페어로 접속할 EC2 서버의 IP 주소를 입력하면 OpenSSH 로 접속이 가능합니다.

